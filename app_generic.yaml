application: app_name_here
version: yyyy-mm-dd-hhhh
runtime: python27
api_version: 1
threadsafe: yes

# define when static files expire
default_expiration: "30d"


builtins:
- remote_api: on

inbound_services:
- warmup

libraries:
- name: django
  version: latest

- name: PIL
  version: latest

handlers:
- url: /_ah/queue/deferred
  script: djangoappengine.deferred.handler.application
  login: admin

- url: /favicon.ico
  static_files: client/app/images/BUILD_NAME/favicon.ico
  upload: client/app/images/BUILD_NAME/favicon.ico


# The static directory will contain CSS, JS, Images, etc. 

- url: /styles
  static_dir: client/app/styles
  
- url: /scripts
  static_dir: client/app/scripts

- url: /images
  static_dir: client/app/images
  
- url: /unversioned_images
  static_dir: client/app/unversioned_images
  
- url: /proprietary/styles
  static_dir: client/app/proprietary/styles

- url: /proprietary/images
  static_dir: client/app/proprietary/images
  
- url: /rs/admin/.+
  script: djangoappengine.main.application
  login: admin
  
- url: /_ah/.+
  script: djangoappengine.main.application
  login: admin

# if the videochat_window URL is called directly, then we execute the code to display the videochat
- url: /videochat_window/video_phone.html
  script: djangoappengine.main.application
  
  
- url: /_ah/stats/.*
  script: djangoappengine.appstats.application

- url: /media/admin
  static_dir: django/contrib/admin/media
  expiration: '0'

- url: /mapreduce/pipeline/images
  static_dir: mapreduce/lib/pipeline/ui/images

- url: /mapreduce(/.*)?
  script: djangoappengine.mapreduce.handler.application
  login: admin
  
  
- url: /.*
  script: djangoappengine.main.application
