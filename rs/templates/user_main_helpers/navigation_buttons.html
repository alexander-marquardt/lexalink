{% load i18n %}
<!--
################################################################################
# LexaLink Copyright information - do not remove this copyright notice
# Copyright (C) 2012
#
# Lexalink - a free social network and dating platform for the Google App Engine.
#
# Original author: Alexander Marquardt
# Documentation and additional information: http://www.LexaLink.com
# Git source code repository: https://github.com/lexalink/LexaLink.git
#
# Please consider contributing your enhancements and modifications to the LexaLink community,
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
################################################################################
-->

        
<ul id="rs-nav">
    {% if text_override_for_navigation_bar %}
        <li class="top">
            <span class="no_link">{{ text_override_for_navigation_bar }}</span></li>
    {% else %}
        {% if guest_user_data_fields.registered_user_bool %}
            <li class="top">
                <a href="{% url edit_profile_url display_nid=primary_user_presentation_data_fields.owner_nid %}"
                class="top_link"><span>{% trans "My Profile" %} [ {{ primary_user_presentation_data_fields.username }} ]</span></a>

            <li class="top">
                <a href="{% url generate_mailbox mailbox_name='inbox' owner_uid=primary_user_presentation_data_fields.owner_uid %}"
                class="top_link">
                <span class="down">
                {% trans "Messages" %}
                {% if primary_user_presentation_data_fields.owner_message_count %}
                    [{{ primary_user_presentation_data_fields.owner_message_count }} {% trans "unread" %}]
                </span></a>
                <ul class="sub">
			        <li>
                        <a href="{% url generate_mailbox mailbox_name='inbox' owner_uid=primary_user_presentation_data_fields.owner_uid %}">
                            {% trans "All (messages - override)" %}
                        </a>
                    </li>
                    <li>
                        <a href="{% url generate_mailbox mailbox_name='new' owner_uid=primary_user_presentation_data_fields.owner_uid %}">
                            {% trans "Unread (plural - override)" %}
                        </a>
                    </li>
                    <li>
                        <a href="{% url generate_mailbox mailbox_name='favorites' owner_uid=primary_user_presentation_data_fields.owner_uid %}">
                            {% trans "Favorites" %} 
                        </a>
                    </li>
                    <li>
                        <a href="{% url generate_mailbox mailbox_name='received' owner_uid=primary_user_presentation_data_fields.owner_uid %}">
                            {% trans "Received (plural - override)" %}
                        </a>
                    </li>
                    <li>
                        <a href="{% url generate_mailbox mailbox_name='sent' owner_uid=primary_user_presentation_data_fields.owner_uid %}">
                            {% trans "Sent (plural - override)" %}
                        </a>
                    </li>
                </ul>

                <li class="top">
                    <a href="{% url generate_contacts_display owner_uid=primary_user_presentation_data_fields.owner_uid %}"
                    class="top_link"><span>{% trans "Contacts" %}
                        {% if primary_user_presentation_data_fields.new_contact_count %}
                        [{{ primary_user_presentation_data_fields.new_contact_count }} {% trans "new" %}]
                        {% endif %}
                    </span></a>
            {% else %}
                <li class="top">
                    <a href="{% url generate_contacts_display owner_uid=primary_user_presentation_data_fields.owner_uid %}"
                    class="top_link"><span>{% trans "Contacts" %}</span></a>
            {% endif %}
            <li class="top">
                <a href="{% url views.logout %}"
                rel="address:{% url views.logout %}"
                class="top_link"><span>{% trans "Exit" %}</span></a>
    
        {% else %}

            <li class="top">
                <span class="no_link">{% trans "You have entered in" %} {{ app_name }} {% trans "with a guest account" %}</span></li>

        {% endif %}
    {% endif %}
</ul>  


<!-- example of how to multi-level nest :

	<li class="top"><a href="#nogo27" id="contacts" class="top_link"><span class="down">Contacts</span></a>
		<ul class="sub">
			<li><a href="#nogo29" class="fly">Sales</a>
				<ul>
					<li><a href="#nogo32">South American</a></li>
					<li><a href="#nogo33" class="fly">European</a>
						<ul>
							<li><a href="#nogo34" class="fly">British</a>
								<ul>
									<li><a href="#nogo38" class="fly">Bristol</a>
										<ul>
											<li><a href="#nogo39">Redland</a></li>
-->
        